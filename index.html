<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Evitar caché en navegadores móviles -->
    <meta
      http-equiv="Cache-Control"
      content="no-cache, no-store, must-revalidate"
    />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />

    <title>Rifas.queMantequilla - Gana Increíbles Premios</title>
    <meta
      name="description"
      content="Participa en rifas exclusivas y gana premios increíbles como motos deportivas, dinero en efectivo y más. Compra tus boletos online de forma segura. ¡Tu próximo premio te espera!"
    />
    <meta
      name="keywords"
      content="rifas online, sorteos, premios, moto deportiva, dinero efectivo, boletos, ganar premios, rifas Venezuela"
    />
    <meta name="author" content="Rifas.queMantequilla" />
    <meta
      name="robots"
      content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"
    />
    <link rel="canonical" href="https://rifaquemantequilla.com" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://rifaquemantequilla.com" />
    <meta
      property="og:title"
      content="Rifas.queMantequilla - Gana Increíbles Premios"
    />
    <meta
      property="og:description"
      content="Participa en rifas exclusivas y gana premios increíbles como motos deportivas, dinero en efectivo y más. ¡Tu próximo premio te espera!"
    />
    <meta
      property="og:image"
      content="https://rifaquemantequilla.com/og-image.jpg"
    />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:site_name" content="Rifas.queMantequilla" />
    <meta property="og:locale" content="es_ES" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://rifaquemantequilla.com" />
    <meta
      name="twitter:title"
      content="Rifas.queMantequilla - Gana Increíbles Premios"
    />
    <meta
      name="twitter:description"
      content="Participa en rifas exclusivas y gana premios increíbles. ¡Tu próximo premio te espera!"
    />
    <meta
      name="twitter:image"
      content="https://rifaquemantequilla.com/og-image.jpg"
    />
    <meta name="twitter:site" content="@queMantequilla" />

    <!-- Structured Data -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "Rifas.queMantequilla",
        "url": "https://rifaquemantequilla.com",
        "logo": "https://rifaquemantequilla.com/favico.png",
        "description": "Plataforma de rifas online con premios increíbles",
        "sameAs": ["https://twitter.com/queMantequilla"],
        "contactPoint": {
          "@type": "ContactPoint",
          "contactType": "customer service",
          "availableLanguage": "Spanish"
        }
      }
    </script>

    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "Rifas.queMantequilla",
        "url": "https://rifaquemantequilla.com",
        "description": "Participa en rifas exclusivas y gana premios increíbles",
        "potentialAction": {
          "@type": "SearchAction",
          "target": "https://rifaquemantequilla.com/search?q={search_term_string}",
          "query-input": "required name=search_term_string"
        }
      }
    </script>

    <!-- Favicon y iconos optimizados -->
    <link rel="icon" href="/favico.png" />
    <link rel="shortcut icon" href="/favico.png" />
    <link rel="apple-touch-icon" href="/favico.png" />
    <link rel="apple-touch-icon" sizes="57x57" href="/favico.png" />
    <link rel="apple-touch-icon" sizes="60x60" href="/favico.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="/favico.png" />
    <link rel="apple-touch-icon" sizes="76x76" href="/favico.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="/favico.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="/favico.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="/favico.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="/favico.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/favico.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favico.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favico.png" />
    <link rel="icon" type="image/png" sizes="96x96" href="/favico.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="/favico.png" />
    <meta name="msapplication-TileImage" content="/favico.png" />
    <meta name="msapplication-TileColor" content="#8B5CF6" />

    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json" />
    <meta name="theme-color" content="#8B5CF6" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />

    <!-- Critical CSS inline -->
    <style>
      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        font-family:
          system-ui,
          -apple-system,
          sans-serif;
        background: #000;
        color: #fff;
      }

      #root {
        min-height: 100vh;
      }
    </style>

    <!-- DNS prefetch and preconnect for external resources -->
    <link rel="preconnect" href="https://i.ibb.co" crossorigin />
    <link rel="dns-prefetch" href="//i.ibb.co" />
    <link rel="dns-prefetch" href="//riffaquemantequilla.onrender.com" />
    <link
      rel="preconnect"
      href="https://riffaquemantequilla.onrender.com"
      crossorigin
    />

    <!-- Preload critical resources -->
    <link rel="modulepreload" href="/assets/index-Byg7xpED.js" crossorigin />
    <link
      rel="preload"
      href="https://i.ibb.co/ksrw6665/MotoRifa.jpg"
      as="image"
      type="image/jpeg"
      fetchpriority="high"
    />
    <link
      rel="preload"
      href="/src/assets/hero-motorcycle.jpg"
      as="image"
      type="image/jpeg"
    />
    <link rel="preload" href="/favico.png" as="image" type="image/png" />
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>

    <!-- Load CSS asynchronously -->
    <script>
      const link = document.createElement("link");
      link.rel = "stylesheet";
      link.href = "/assets/index-5gKVcjRn.css";
      document.head.appendChild(link);
    </script>

    <!-- Service Worker - Solo en producción -->
    <script>
      // Limpiar caché si estamos en desarrollo o hay problemas de redirección
      if (
        window.location.hostname === "localhost" ||
        window.location.search.includes("clear-cache")
      ) {
        // Ejecutar script de limpieza
        const script = document.createElement("script");
        script.src = "/clear-cache.js";
        document.head.appendChild(script);
      }

      // Desregistrar SW en desarrollo
      if (
        "serviceWorker" in navigator &&
        window.location.hostname === "localhost"
      ) {
        navigator.serviceWorker
          .getRegistrations()
          .then(function (registrations) {
            for (let registration of registrations) {
              registration.unregister();
            }
          });
      }

      // Solo registrar SW en producción (HTTPS y no localhost)
      if (
        "serviceWorker" in navigator &&
        window.location.protocol === "https:" &&
        window.location.hostname !== "localhost"
      ) {
        window.addEventListener("load", () => {
          navigator.serviceWorker
            .register("/sw.js")
            .then((registration) => {
              // Verificar actualizaciones cada 30 minutos
              setInterval(
                () => {
                  registration.update();
                },
                30 * 60 * 1000
              );
            })
            .catch((registrationError) => {
              // Service worker registration failed silently
            });
        });
      }
    </script>
  </body>
</html>
